name: Deploy Application

on:
  push:
    branches: [main]

jobs:
  debug-env:
    name: Debug Environment Variables
    runs-on: ubuntu-latest
    steps:
      - name: Print environment variables
        run: |
          echo "üîç Environment Variables in actions-consumer workflow:"
          echo "================================"
          env | sort
  
  deploy-pipeline:
    name: Deploy Pipeline
    needs: debug-env
    permissions:
      id-token: write
    uses: magtutu/shared-actions/.github/workflows/app-merge.yml@main
    with:
      app-name: actions-consumer
